<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NosPlay</title>

<!-- Fonte -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<!-- CSS -->
<link rel="stylesheet" href="style.css">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script src="firebase.js"></script>

<!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#1e88e5">

<!-- iOS / √≠cones -->
<link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
<link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
<link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

</head>
<body>
<div class="page">

  <header>
    <div class="top">
      <div class="logo">NosPlay</div>
      <div class="search">
        <input id="search" placeholder="Pesquisar apps...">
      </div>
    </div>
    <div class="categories" id="cats"></div>
  </header>

  <section id="home" class="section">
    <div class="apps" id="apps"></div>
  </section>

  <section id="details"></section>

  <section id="about">
    <div class="back" onclick="goHome()">‚Üê Voltar</div>
    <h2>Sobre a NosPlay</h2>
    <p class="desc">
      A NosPlay √© uma plataforma independente para distribui√ß√£o de apps Android.
      N√£o hospedamos arquivos nos nossos servidores.
    </p>
    <h3>Pol√≠tica</h3>
    <p class="desc">
      Todos os aplicativos pertencem aos seus respectivos desenvolvedores.
      Caso seja detentor de direitos e queira remover algum conte√∫do,
      entre em contacto.
    </p>
  </section>

</div>

<!-- LIGHTBOX -->
<div id="lightbox">
  <span id="prev-btn" onclick="prevSlide()">&#10094;</span>
  <span id="next-btn" onclick="nextSlide()">&#10095;</span>
  <span class="close" onclick="closeLightbox()">&times;</span>
  <img id="lightbox-img">
</div>

<!-- JS -->
<script src="app.js"></script>

<script>
  // Bot√£o f√≠sico do sistema -> voltar
  window.addEventListener("popstate", () => {
    const lightbox = document.getElementById("lightbox");
    const details = document.getElementById("details");
    const home = document.getElementById("home");

    if (lightbox.style.display === "flex") closeLightbox();
    else if (details.style.display === "block") goHome();
  });

  // Atualizar lista quando pesquisar
  document.getElementById("search").addEventListener("input", () => {
    renderApps();
  });

  // Service Worker PWA
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", () => {
      navigator.serviceWorker.register("sw.js")
        .then(() => console.log("PWA ativa üöÄ"))
        .catch(err => console.log("Erro no SW:", err));
    });
  }
</script>

</body>
</html>
